<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test</title>
  </head>
  <body>
    <h1>Test</h1>
    <ul></ul>
    <input type="text" name="text" id="text" />
  </body>
  <script>
    const ul = document.querySelector("ul");
    const text = document.querySelector("#text");
    const button = document.querySelector("button");

    const websocket = new WebSocket("ws://127.0.0.1:8080/ws/ships");

    websocket.onopen = () => {
      console.log("connected");
    };

    websocket.onmessage = (event) => {
      console.log("eeee", event);
      const li = document.createElement("li");
      li.textContent = event.data;
      ul.appendChild(li);
    };

    text.addEventListener("keydown", (event) => {
      if (event.key !== "Enter") return;
      websocket.send(event.target.value);
    });
  </script>
</html>
